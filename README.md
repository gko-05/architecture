# Бизнес-контекст
Организация использует специально разработанные программные системы в операционной деятельности по кадастровой оценкой недвижимости. Данные программные системы не предоставляют аналитических функций сотрудникам. Объекты кадастровой оценки недвижимости поступают в виде машино-читаемых пакетов(архив) реестров(XML). Результаты формируемые в системе в ответ на них также в XML. Так же есть необходимость переводить в человеко-читаемый формат входящее реестры, для сотрудников. В организации присутствует запас серверных мощностей и квалифицированные ИТ кадры. Руководство желает использовать ИТ подразделение в разработке. Так же дополнительно необходимо реализовать в системе:
 - подсистему сбора рыночной информации - объявления о продаже объектов недвижимости(что будет называться аналогами) с сайтов;
 - подсистему массового присвоения кодов объектам недвижимости по справочнику.

# Бизнес-цели
Разработать систему аналитики и генерации отчётности сведений получаемых в результате проведения кадастровой оценкой недвижимости.

# Бизнес-драйверы
- Руководство не знает, как приходит кадастровая оценка;
- Нет возможности предоставить отчёт вышестоящему ведомству;
- Сотрудникам необходимы выгрузки в человеко-читаемом формате;
- Нужна основа, для перспективы введения ML в процессы.

# Стейкхолдеры и их потребности
- Руководство. Понимать и влиять на происходящие процессы, а также формировать аналитические отчёты об оценке недвижимости.
- Головное ведомство. Понимать качество и объём проводимой возложенной функции на организацию.
- Граждане. Хотят иметь равные права и сведенные к минимуму ошибок при оценке их объектов недвижимости.
- Работники. Свести к минимуму ошибки при проведении оценки приводящие их к ответственности в том числе и дисциплинарной. Получать выгрузки сведений из системы используемой в дальнейшей работе.

# Пользовательские истории
UC-1. Получение входящих реестров. Пользователи в автоматическом режиме получают выгрузку xlsx из поступивших реестров на оценку.

UC-2. Просмотр базовой статистики.	Пользователи заходят в веб интерфейс и видят статистику: количество реестров, количество объектов в реестре, реестры в работе и т.п.

UC-3. Получение расширенной статистики.	Пользователи используя инструменты(возможно BI) могут запрашивать и выгружать расширенные сведения в различных разрезах.

UC-4. Регистрация.	Пользователи могут зарегистрироваться и получить доступ к сведениям в web.

UC-5. Работа с аналогами.	Пользователи могут выгружать, по месяцам, и просматривать собранную рыночную информацию в виде текстовой информации(Excel) и скриншота каждого объявления.

UC-5. Работа с кодировкой.	Пользователи могут массово по критериям выбирать объекты из реестра и применять к ним код по справочнику.


# Атрибуты качества (и не функциональные требования)
- Импорт реестров в БД до часу. 
- Выполнение простых запросов до 5 минут. 
- Выполнение выгрузок в человеко-читаемом виде до 15 минут. 
- Предположительный объём хранение реестров ГКО за 5 лет - 10Гб. 
- Не допустима потеря сведений о поступивших пакетов реестров.
- Информация об ошибках при прогрузке реестров на почту.
- Постоянное хранение реестров как есть.

# Ограничения (технические и бизнес)
- Доступ к просмотру в веб должен быть ограничен.
- Почтовый сервер MS Exchange, в которую поступают реестры.
- Сервер общей папки на MS Windows Server 2016, в которую происходят выгрузки.
- Форматы файлов данных циркулирующих по системе: zip, pdf, jpg, xml, ods, xlsx, sig.
- Время на реализацию проекта 3 месяца.
- Человеческие ресурсы: сотрудники ИТ подразделения организации.

# Критические сценарии 
- Входящие и исходящие реестры парсятся из XML и загружаются в БД.
- Пользователи могут просматривать базовую статистику, совершать поиск и просмотр истории объекта недвижимости.
- Пользователям приходят сообщения о поступлении новых пакетов реестров вместе ссылкой на человеко-читаемый файл(xlsx) выгрузки данного реестра.
- Пользователи могут делать выгрузки о собранной рыночной информации.
- Пользователи массово присваивают коды к объектам недвижимости и могут выгружать результат.

# Критические характеристики
- врем ответа от системы не должно превышать 5 мин.
- уведомление о неудачных загрузках реестров
- время внедрения – 3 месяца
- доступность сервиса: процент ошибочных ответов(90%)

# Функциональные требования
Система должна обеспечить сбор, накопление и анализ поступающих и исходящих реестров ГКО. 
Реестры ГКО поступают в формат обмена – XML и соответствующей схеме XSD. Файлы XML находятся в архиве ZIP или RAR. Пакеты архива подписаны в формате p7s или SGN, либо отдельно в виде файла с расширением sig. Реестры разделены на два типа: массовая оценка и ежедневная оценка. Объём хранения информации на один реестр от 100Кб до 3Гбайт.
Системы, должна парсить XML файлы и предоставить их в человеко-читаемом виде. 
Система должна собирать и хранить собранную рыночную информацию с сайтов вместе со скриншотами.
Есть возможность присваивать массово, по фильтрам, объектам недвижимости коды.

Источники входящих реестров:
- почтовые сообщения с вложениями;
- почтовые сообщения с ссылкой на облако mail.ru;
- ручная загрузка.

Источники исходящих реестров:
- папка в шаре(smb protocol);
- ручная загрузка.

Источник рыночной информации:
- сайт "Авито".

Необходимо предусмотреть:
- возможность выгрузки реестра в формате Excel(xlsx);
- возможность отправки файла xlsx по почте на специальный адрес;
- просмотр содержимого реестров через web итерфейс;
- выполнение над данными реестров запросов, в том числе агрегированных запросов;
- возможность выполнения сложны аналитических функций;
- возможность выгрузки аналогов рыночной информации;
- массовой кодировки поступающих объектов недвижимости.


# Контекстная схема системы
![Диаграмма контекста](<Диаграмма контекста.jpg>)

# [ADR](./ADR.md)
Перейдите по ссылке.
